# Test configuration for online_fgo_core tests
# This file can be loaded by the StandaloneApplication for testing

GNSSFGO:
  Graph:
    type: "TimeCentric"
    smootherLag: 5.0
    maxIterations: 100
    publishResiduals: true
    autoInitialize: true
    verbose: false
    
  Solver:
    type: "LevenbergMarquardt"
    relativeErrorTol: 1.0e-5
    absoluteErrorTol: 1.0e-5
    maxIterations: 50
    linearSolverType: "MULTIFRONTAL_CHOLESKY"
    
  Integrator:
    IMU:
      enabled: true
      rate: 200.0
      topic: "/imu/data"
      
      # Noise parameters
      accNoiseDensity: 0.01      # m/s^2/sqrt(Hz)
      gyrNoiseDensity: 0.001     # rad/s/sqrt(Hz)
      accBiasRandomWalk: 0.0001  # m/s^3/sqrt(Hz)
      gyrBiasRandomWalk: 0.00001 # rad/s^2/sqrt(Hz)
      
      # Initial bias
      accBiasX: 0.0
      accBiasY: 0.0
      accBiasZ: 0.0
      gyrBiasX: 0.0
      gyrBiasY: 0.0
      gyrBiasZ: 0.0
      
    GNSS:
      enabled: true
      rate: 10.0
      topic: "/gnss/fix"
      
      # Accuracy parameters
      horizontalAccuracy: 2.0    # meters
      verticalAccuracy: 3.0      # meters
      
      # Processing options
      useCarrierPhase: false
      useDopplerVelocity: true
      requireMinSatellites: 4
      
    LiDAR:
      enabled: false
      rate: 10.0
      topic: "/velodyne_points"
      
      # ICP parameters
      maxCorrespondenceDistance: 1.0
      maxIterations: 30
      transformationEpsilon: 1.0e-6
      
    Wheel:
      enabled: false
      rate: 50.0
      leftWheelTopic: "/wheel/left"
      rightWheelTopic: "/wheel/right"
      wheelBase: 0.5             # meters
      wheelRadius: 0.1           # meters

# Test-specific parameters
Test:
  tolerance: 1.0e-6
  timeout: 10.0  # seconds
  verbose: true
  saveLogs: false
  outputDirectory: "/tmp/online_fgo_tests"
